{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nvdun\\\\Documents\\\\Zalo Received Files\\\\covid_19_ProjectFE2\\\\src\\\\components\\\\Charts\\\\HighMaps\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport highchartsMap from 'highcharts/modules/map';\nimport { cloneDeep } from 'lodash'; // Load Highcharts modules\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nhighchartsMap(Highcharts);\nconst initOptions = {\n  chart: {\n    height: '500'\n  },\n  title: {\n    text: null\n  },\n  mapNavigation: {\n    enabled: true\n  },\n  colorAxis: {\n    min: 0,\n    stops: [[0.2, '#FFC4AA'], [0.4, '#FF8A66'], [0.6, '#FF392B'], [0.8, '#B71525'], [1, '\t#7A0826']]\n  },\n  legend: {\n    layout: 'vertical',\n    align: 'right',\n    verticalAlign: 'bottom'\n  },\n  series: [{\n    name: 'Dân số',\n    joinBy: ['hc-key', 'key']\n  }]\n};\n\nconst HighMaps = _ref => {\n  _s();\n\n  let {\n    mapData\n  } = _ref;\n  const [options, setOptions] = useState({});\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const chartRef = useRef(null);\n  useEffect(() => {\n    if (mapData && Object.keys(mapData).length) {\n      console.log({\n        mapData\n      });\n      const fakeData = mapData.features.map((feature, index) => ({\n        key: feature.properties['hc-key'],\n        value: index\n      }));\n      setOptions(() => ({ ...initOptions,\n        title: {\n          text: mapData.title\n        },\n        series: [{ ...initOptions.series[0],\n          mapData: mapData,\n          data: fakeData\n        }]\n      }));\n      if (!mapLoaded) setMapLoaded(true);\n    }\n  }, [mapData, mapLoaded]);\n  useEffect(() => {\n    if (chartRef && chartRef.current) {\n      chartRef.current.chart.series[0].update({\n        mapData\n      });\n    }\n  }, [options, mapData]);\n  if (!mapLoaded) return null;\n  return /*#__PURE__*/_jsxDEV(HighchartsReact, {\n    highcharts: Highcharts,\n    options: cloneDeep(options),\n    constructorType: 'mapChart',\n    ref: chartRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HighMaps, \"0mMz6T6RHKylLlaHccCVrDYoR0Q=\");\n\n_c = HighMaps;\nHighMaps.defaultProps = {\n  mapData: {}\n};\nexport default _c2 = /*#__PURE__*/React.memo(HighMaps);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"HighMaps\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Highcharts","HighchartsReact","highchartsMap","cloneDeep","initOptions","chart","height","title","text","mapNavigation","enabled","colorAxis","min","stops","legend","layout","align","verticalAlign","series","name","joinBy","HighMaps","mapData","options","setOptions","mapLoaded","setMapLoaded","chartRef","Object","keys","length","console","log","fakeData","features","map","feature","index","key","properties","value","data","current","update","defaultProps","memo"],"sources":["C:/Users/nvdun/Documents/Zalo Received Files/covid_19_ProjectFE2/src/components/Charts/HighMaps/index.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport Highcharts from 'highcharts';\r\nimport HighchartsReact from 'highcharts-react-official';\r\nimport highchartsMap from 'highcharts/modules/map';\r\nimport { cloneDeep } from 'lodash';\r\n\r\n// Load Highcharts modules\r\nhighchartsMap(Highcharts);\r\n\r\nconst initOptions = {\r\n  chart: {\r\n    height: '500',\r\n  },\r\n  title: {\r\n    text: null,\r\n  },\r\n  mapNavigation: {\r\n    enabled: true,\r\n  },\r\n  colorAxis: {\r\n    min: 0,\r\n    stops: [\r\n      [0.2, '#FFC4AA'],\r\n      [0.4, '#FF8A66'],\r\n      [0.6, '#FF392B'],\r\n      [0.8, '#B71525'],\r\n      [1, '\t#7A0826'],\r\n    ],\r\n  },\r\n  legend: {\r\n    layout: 'vertical',\r\n    align: 'right',\r\n    verticalAlign: 'bottom',\r\n  },\r\n  series: [\r\n    {\r\n      name: 'Dân số',\r\n      joinBy: ['hc-key', 'key'],\r\n    },\r\n  ],\r\n};\r\n\r\nconst HighMaps = ({ mapData }) => {\r\n  const [options, setOptions] = useState({});\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const chartRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (mapData && Object.keys(mapData).length) {\r\n      console.log({ mapData });\r\n      const fakeData = mapData.features.map((feature, index) => ({\r\n        key: feature.properties['hc-key'],\r\n        value: index,\r\n      }));\r\n\r\n      setOptions(() => ({\r\n        ...initOptions,\r\n        title: {\r\n          text: mapData.title,\r\n        },\r\n        series: [\r\n          { ...initOptions.series[0], mapData: mapData, data: fakeData },\r\n        ],\r\n      }));\r\n\r\n      if (!mapLoaded) setMapLoaded(true);\r\n    }\r\n  }, [mapData, mapLoaded]);\r\n\r\n  useEffect(() => {\r\n    if (chartRef && chartRef.current) {\r\n      chartRef.current.chart.series[0].update({\r\n        mapData,\r\n      });\r\n    }\r\n  }, [options, mapData]);\r\n\r\n  if (!mapLoaded) return null;\r\n\r\n  return (\r\n    <HighchartsReact\r\n      highcharts={Highcharts}\r\n      options={cloneDeep(options)}\r\n      constructorType={'mapChart'}\r\n      ref={chartRef}\r\n    />\r\n  );\r\n};\r\n\r\nHighMaps.defaultProps = {\r\n  mapData: {},\r\n};\r\n\r\nexport default React.memo(HighMaps);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}